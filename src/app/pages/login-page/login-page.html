<div class="h-screen w-screen flex">
  
  <!-- Sol Sütun (Logo) -->
  <div class="w-1/2 bg-[#2C2A4A] flex items-center justify-center relative">
    <div class="absolute right-0 h-full w-[2px] bg-orange-500"></div>
    <div class="text-white text-5xl font-bold flex items-center">
      <!-- Logo yolu (assets klasöründe olduğunu varsayıyorum) -->
      <img src="assets/etiya-logo.png" alt="Etiya Logosu" class="h-16 mr-4" />
      <span>ETIYA</span>
    </div>
  </div>

  <!-- Sağ Sütun (Form) -->
  <div class="w-1/2 bg-[#2C2A4A] flex flex-col items-center justify-center p-8 relative">
    <div class="absolute left-0 h-full w-[2px] bg-orange-500"></div>

    <h2 class="text-gray-200 text-xl mb-12">Sign in with your organization account.</h2>

    <form (ngSubmit)="onLogin()" class="w-full max-w-sm flex flex-col items-center">
      
      <!-- 
        HATA POPUP'I
        errorMessage sinyali doluysa <app-popup> çağrılır.
        'cancelText' boş olduğu için sadece 'Tamam' butonu görünür.
        'onConfirm' olayı 'closeErrorPopup()' metodunu tetikler.
      -->
      @if (errorMessage()) {
        <app-popup
          [title]="'Giriş Başarısız'"
          [message]="errorMessage()!"
          [confirmText]="'Tamam'"
          [cancelText]="''" 
          (onConfirm)="closeErrorPopup()">
        </app-popup>
      }

      <!-- Email Input -->
      <div class="w-full mb-6">
        <input 
          type="text" 
          placeholder="Email" 
          [(ngModel)]="email" 
          name="email" 
          required 
          class="w-full px-5 py-3 rounded-full bg-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 text-lg"
        >
      </div>

      <!-- Password Input (Göz ikonu dahil) -->
      <div class="w-full mb-8 relative">
        <input 
          [type]="isPasswordVisible() ? 'text' : 'password'" 
          placeholder="Password" 
          [(ngModel)]="password" 
          name="password" 
          required 
          class="w-full px-5 py-3 rounded-full bg-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-500 text-lg pr-12"
        >
        <!-- Göz İkonu Alanı -->
        <span 
          class="absolute inset-y-0 right-0 pr-4 flex items-center cursor-pointer text-gray-700"
          (click)="togglePasswordVisibility()">
          
          <!-- isPasswordVisible() sinyaline göre SVG'yi değiştir -->
          @if (!isPasswordVisible()) {
            <!-- Göz (açık) ikonu -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          } @else {
            <!-- Göz (kapalı/çizgili) ikonu -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.75 9.75" /></svg>
          }
        </span>
      </div>

      <!-- Login Butonu -->
      <button 
        type="submit" 
        class="bg-gray-200 text-gray-900 font-bold py-3 px-10 rounded-full hover:bg-gray-300 transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed cursor"
        [disabled]="isLoading() || !email || !password" > <!-- 'email' ve 'password' boşsa da kilitler -->
        @if (isLoading()) {
          <span>Giriş Yapılıyor...</span>
        } @else {
          <span>Login</span>
        }
      </button>
    </form>
  </div>
</div>